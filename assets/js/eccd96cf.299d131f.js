"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5368],{5367:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"contribute/development-guide/coding/extending-the-web/index","title":"Extending the web","description":"The web is grouped by features.","source":"@site/docs/contribute/development-guide/coding/extending-the-web/index.md","sourceDirName":"contribute/development-guide/coding/extending-the-web","slug":"/contribute/development-guide/coding/extending-the-web/","permalink":"/template-fastapi-react/docs/contribute/development-guide/coding/extending-the-web/","draft":false,"unlisted":false,"editUrl":"https://github.com/equinor/template-fastapi-react/tree/main/documentation/docs/contribute/development-guide/coding/extending-the-web/index.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"contribute","previous":{"title":"Generate API clients","permalink":"/template-fastapi-react/docs/contribute/development-guide/coding/generate-api-clients"},"next":{"title":"Testing","permalink":"/template-fastapi-react/docs/contribute/development-guide/testing"}}');var i=t(4848),r=t(8453),a=t(1028);const d="import type { TAuthConfig } from 'react-oauth2-code-pkce'\n\nexport const authConfig: TAuthConfig = {\n  clientId: import.meta.env.VITE_AUTH_CLIENT_ID || '',\n  authorizationEndpoint: import.meta.env.VITE_AUTH_ENDPOINT || '',\n  tokenEndpoint: import.meta.env.VITE_TOKEN_ENDPOINT || '',\n  scope: import.meta.env.VITE_AUTH_SCOPE || '',\n  redirectUri: window.origin,\n  logoutEndpoint: import.meta.env.VITE_LOGOUT_ENDPOINT || '',\n  autoLogin: false,\n  preLogin: () =>\n    localStorage.setItem(\n      'preLoginPath',\n      `${window.location.pathname}${window.location.search}${window.location.hash}`\n    ),\n  postLogin: () =>\n    window.location.replace(localStorage.getItem('preLoginPath') ?? (import.meta.env.VITE_AUTH_REDIRECT_URI || '')),\n}\n",s="import { createBrowserRouter } from 'react-router-dom'\nimport InvalidUrl from './common/components/InvalidUrl'\nimport { TodoListPage } from './pages/TodoListPage'\n\nexport const router = createBrowserRouter([\n  {\n    path: '/',\n    element: <TodoListPage />,\n  },\n  {\n    path: '*',\n    element: <InvalidUrl />,\n  },\n])\n",c={sidebar_position:3},l="Extending the web",u={},h=[{value:"Codebase structure",id:"codebase-structure",level:2},{value:"Application tree",id:"application-tree",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Oauth2",id:"oauth2",level:3},{value:"Routes",id:"routes",level:3}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"extending-the-web",children:"Extending the web"})}),"\n",(0,i.jsx)(n.p,{children:"The web is grouped by features."}),"\n",(0,i.jsx)(n.h2,{id:"codebase-structure",children:"Codebase structure"}),"\n",(0,i.jsx)(n.p,{children:"The web has a feature-based folder structure."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u251c\u2500\u2500 web/\n\u2502   \u2514\u2500\u2500 src/\n\u2502       \u251c\u2500\u2500 api/\n\u2502       \u251c\u2500\u2500 common/\n\u2502       \u251c\u2500\u2500 features/\n\u2502       \u2502   \u251c\u2500\u2500 todos/\n\u2502       \u2502   \u2514\u2500\u2500 ...\n\u2502       \u251c\u2500\u2500 hooks/\n\u2502       \u2514\u2500\u2500 pages/\n\u2514\u2500\u2500 ...\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api"})," contains the auto-generated API client"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"common"})," contains shared code like generic components"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"features"})," contains features e.g. todo-list"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hooks"})," contains reusable hooks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pages"})," contains entrypoints (pages that are used by the router)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"application-tree",children:"Application tree"}),"\n",(0,i.jsx)(n.mermaid,{chart:'\nflowchart\n    subgraph web\n    AuthProvider-. imported from .->react-oauth2-code-pkce;\n    index --\x3e AuthProvider\n    AuthProvider --\x3e app\n    app --\x3e Header\n    app --\x3e RouterProvider\n    RouterProvider-. imported from .->react-router-dom;\n    RouterProvider --\x3e routes\n    routes -- /invalid --\x3e InvalidUrl\n    routes -- / --\x3e TodoListPage\n    TodoListPage --\x3e TodoList\n    TodoList -- uses hook --\x3e useTodos\n    useTodos -- uses client --\x3e TodoAPI\n    TodoList --\x3e AddItem\n    TodoList -- 1..x --\x3e TodoItem\n    end\n\n    TodoAPI -- HTTP requests --\x3e API\n\n    style react-oauth2-code-pkce fill:#f96;\n    click react-oauth2-code-pkce "https://www.npmjs.com/package/react-oauth2-code-pkce" "Open"\n    style react-router-dom fill:#f96;\n    click react-router-dom "https://www.npmjs.com/package/react-router-dom" "Open"\n\n    style useTodos fill:#b8c;'}),"\n",(0,i.jsx)(n.p,{children:"External dependencies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The app is using ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/react-oauth2-code-pkce",children:"react-oauth2-code-pkce"})," for Oauth2 authentication."]}),"\n",(0,i.jsxs)(n.li,{children:["The app is using ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/react-router-dom",children:"react-router-dom"})," for routing."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"../../../../about/running/configure",children:"configuration"})," for a description of the different configuration options available."]}),"\n",(0,i.jsx)(n.h3,{id:"oauth2",children:"Oauth2"}),"\n",(0,i.jsxs)(n.p,{children:["The AuthProvider are using the configuration defined in ",(0,i.jsx)(n.code,{children:"web/src/auth"}),"."]}),"\n","\n",(0,i.jsx)(a.A,{language:"jsx",children:d}),"\n",(0,i.jsx)(n.h3,{id:"routes",children:"Routes"}),"\n",(0,i.jsxs)(n.p,{children:["The RouterProvider are using the router defined in ",(0,i.jsx)(n.code,{children:"web/src/router"}),"."]}),"\n","\n",(0,i.jsx)(a.A,{language:"jsx",children:s})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);