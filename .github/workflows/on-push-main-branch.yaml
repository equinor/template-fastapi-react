on:
  workflow_dispatch:
  push:
    branches:
      - main
      - testing
    paths-ignore:
      - 'CHANGELOG.md'
      - '.pre-commit-config.yaml'

jobs:
  tests:
    uses: ./.github/workflows/tests.yaml

  release:
    needs: tests
    uses: ./.github/workflows/release.yaml

  docs:
    needs: release
    uses: ./.github/workflows/generate-docs.yaml
